<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>CSL Performance Pay Calculator</title>
  <style>
    body {
      background-color: #1E3A5F;
      font-family: 'Poppins', sans-serif;
      color: #F5E6C4;
      text-align: center;
      margin: 0;
      padding: 0;
    }

    .top-img {
      width: 100%;
      max-height: 160px;
      object-fit: cover;
    }

    h1 {
      font-size: 22px;
      margin: 10px 0 5px 0;
      color: #ffffff;
      font-weight: bold;
      text-align: center;
    }

    .box {
      background-color: #F5E6C4;
      color: #1E3A5F;
      width: 93%;
      max-width: 350px;
      margin: 10px auto 30px auto;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 4px 4px 12px rgba(0,0,0,0.3);
      box-sizing: border-box;
      overflow: auto;
    }

    .box label {
      display: block;
      font-size: 15px;
      font-weight: bold;
      text-align: center; /* Center-align labels */
      margin: 10px 0 5px 0;
    }

    .box input, .box select {
      width: 100%;
      padding: 10px;
      font-size: 14px;
      border: 1px solid #ccc;
      border-radius: 6px;
      box-sizing: border-box;
      text-align: center; /* Center-align input text */
    }

    .box p {
      font-size: 15px;
      line-height: 1.7;
      text-align: center; /* Center-align text */
      font-weight: bold;
      margin: 10px 0;
    }

    .error-msg {
      color: #8B0000;
      font-size: 13px;
      text-align: center; /* Center-align error message */
      margin-top: 5px;
      display: none;
    }

    .result-card {
      background-color: #F5E6C4;
      color: #1E3A5F;
      width: 93%;
      max-width: 350px;
      margin: 10px auto 30px auto;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 4px 4px 12px rgba(0,0,0,0.3);
      box-sizing: border-box;
      display: none; /* Hidden by default */
    }

    .result-card p {
      text-align: center; /* Center-align result text */
      font-size: 15px;
      font-weight: bold;
      margin: 10px 0;
    }

    .total {
      font-size: 22px; /* Larger font size for Total */
      color: #006400; /* Dark green */
      font-weight: bold;
    }

    .disclaimer {
      font-size: 12px; /* Smaller font */
      color: #8B0000; /* Dark red */
      text-align: center;
      margin-top: 20px;
    }

    .copy-btn {
      margin-top: 10px;
      padding: 10px 16px;
      font-size: 14px;
      background-color: #1E3A5F;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      width: 100%;
    }

    .footer {
      font-size: 14px;
      padding: 15px;
      background-color: #0F2A45;
      width: 100%;
      position: fixed;
      bottom: 0;
      left: 0;
      z-index: 100;
      text-align: center;
    }

    .bottom-space {
      height: 120px;
    }
  </style>
</head>
<body>

  <!-- Top image -->
  <img src="https://i.ibb.co/BYPxNBB/Screenshot-20250529-141452-CSL-Calculations.jpg" alt="Top Image" class="top-img">

  <!-- Heading outside the box -->
  <h1>Performance Pay Calculator</h1>

  <div class="box">
    <label>Basic Pay (April 2024):</label>
    <input type="number" id="bp2024" min="0">

    <label>Basic Pay (March 2025):</label>
    <input type="number" id="bp2025" min="0">

    <label>Is Annual Increment in January?</label>
    <select id="increment_month">
      <option value="yes">Yes (January)</option>
      <option value="no">No (July)</option>
    </select>

    <label>Loss of Pay Days (LOP):</label>
    <input type="number" id="lop" min="0" oninput="checkLOP()">

    <div id="error_msg" class="error-msg">LOP 31 days or more: No bonus applicable.</div>

    <button id="calculate_btn" class="copy-btn" onclick="calculatePP()">Calculate</button>
  </div>

  <div id="result" class="result-card">
    <p>Performance Pay: <span id="pp_amount"></span></p>
    <p>Additional Pay: 11000</p>
    <p class="total">Total: <span id="total_amount"></span></p>
    <p class="disclaimer">There might be slight changes in the above amount due to your late punch, LOP, etc.</p>
  </div>

  <div class="bottom-space"></div>

  <div class="footer">Powered by VT@Soft Â© 2025 | Version 1.0</div>

  <script>
    function checkLOP() {
      const lopInput = document.getElementById('lop');
      const lop = parseFloat(lopInput.value) || 0;
      const errorMsg = document.getElementById('error_msg');
      const calcBtn = document.getElementById('calculate_btn');

      if (lop >= 31) {
        errorMsg.style.display = 'block';
        calcBtn.disabled = true;
      } else {
        errorMsg.style.display = 'none';
        calcBtn.disabled = false;
      }
    }

    function calculatePP() {
      const bp2024 = parseFloat(document.getElementById('bp2024').value) || 0;
      const bp2025 = parseFloat(document.getElementById('bp2025').value) || 0;
      const incMonth = document.getElementById('increment_month').value;
      const lop = parseFloat(document.getElementById('lop').value) || 0;

      let monthsOld = 0;
      let monthsNew = 0;

      if (incMonth === 'yes') {
        monthsOld = 9; // Apr 2024 to Dec 2024
        monthsNew = 3; // Jan 2025 to Mar 2025
      } else {
        monthsOld = 3; // Apr 2024 to Jun 2024
        monthsNew = 9; // Jul 2024 to Mar 2025
      }

      const totalBasic = (monthsOld * bp2024) + (monthsNew * bp2025);
      const lopDeduction = (bp2025 / 30) * lop;
      const effectiveBasic = totalBasic - lopDeduction;

      let performancePay = 0;
      if (lop <= 30) {
        performancePay = 0.19 * effectiveBasic;
      }

      const additionalPay = 11000;
      const totalPay = performancePay + additionalPay;

      document.getElementById('pp_amount').innerText = Math.round(performancePay);
      document.getElementById('total_amount').innerText = Math.round(totalPay);
      document.getElementById('result').style.display = 'block';
    }
  </script>

</body>
</html>